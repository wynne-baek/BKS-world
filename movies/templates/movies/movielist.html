{% extends 'base.html' %}

{% block content %}

{% if movies %}
<h1>{{ 검색한나라 }}</h1>
<div class="row row-cols-1 row-cols-md-4 g-5 mt-2" style="display:flex;">
  {% for movie in movies %}
  <div class="col text-center" style="" >
    <div class="card h-100" style="min-width: 215px;">
      <div class="card-img-top" style="text-shadow: 0 0 16px black;">
        <img src="https://themoviedb.org/t/p/w600_and_h900_bestv2{{ movie.poster_path }}" alt="" width="200" height="200" style="margin-top:20px;">
          <div class="card-body" style="">
            <p>영화 제목: {{ movie.title }}</p>
            <p>영화 평점: {{ movie.vote_average }}</p>
            <a class="btn btn-primary" href="{% url 'movies:movie_detail' movie.pk %}" style="">DETAIL</a>
          </div>
        </div>
    </div>
  </div>
{% endfor %} 
</div>

<div style="text-align:center;">
<div class="pagination" style="display:inline-block; text-align:center; margin:auto; white-space: nowrap; margin-top:40px; margin-bottom:80px;">
  <span class="step-links " style="">
    {% if movies.has_previous %}
    <a href="?page=1&search={{ search }}">&laquo; first</a>
    <a href="?page={{ movies.previous_page_number }}&search={{ search }}">previous</a>
    {% endif %}
    <span class="current" style= "">
      Page {{ movies.number }} of {{ movies.paginator.num_pages }}
    </span>
    {% if movies.has_next %}
    <a href="?page={{ movies.next_page_number }}&search={{ search }}">next</a>
    <a href="?page={{ movies.paginator.num_pages }}&search={{ search }}">last &raquo;</a>
    {% endif %}
  </span>
</div>
</div>

{% comment %} <a align="right" href="{% url 'movies:movie_search' %}" style="position:fixed; bottom:53px; right:-10px; margin-top:10px;">▲TOP</a> {% endcomment %}

{% else %}
<div style="display: flex; justify-content: center; align-items: center; min-height: 100vh;">
  <div class="alert alert-dismissible alert-success" style="text-align:center; 	border-radius: 40px 80px / 80px 40px;">
    <h3 class="m-4"> 정확한 국가명을 한글로 입력해주세용</h3>
    <p> 오늘의 추천 여행지: '대한민국'은 어떠세요? </p>
    <p> 오늘의 팁: 패키지 영화도 추천합니다! </p>
    <button onclick="history.back()" class="btn-hover color-2 btn-sm" style="">BACK</button>
  </div>
</div>
{% endif %}

<script>

</script>

<style>
  .btn-hover {
    font-size: 16px;
    font-weight: 600;
    color: #fff;
    cursor: pointer;
    margin: 20px;
    text-align:center;
    border: none;
    background-size: 300% 100%;

    border-radius: 50px;
    moz-transition: all .4s ease-in-out;
    -o-transition: all .4s ease-in-out;
    -webkit-transition: all .4s ease-in-out;
    transition: all .4s ease-in-out;}
  .btn-hover:hover {
      background-position: 100% 0;
      moz-transition: all .4s ease-in-out;
      -o-transition: all .4s ease-in-out;
      -webkit-transition: all .4s ease-in-out;
      transition: all .4s ease-in-out;
  }
  
  .btn-hover:focus {
      outline: none;
  }

  .btn-hover.color-2 {
      background-image: linear-gradient(to right, #f5ce62, #e43603, #fa7199, #e85a19);
      box-shadow: 0 4px 15px 0 rgba(229, 66, 10, 0.75);
  }
</style>

{% endblock content %}